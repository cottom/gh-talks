{"version":3,"sources":["webpack:///webpack/bootstrap 490933e562af835c20df?ed14","webpack:///./src/util.ts?d872","webpack:///./src/iframe.ts"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;AC7DE,QAAe,YAAW,SAAO;AACjC,QAAY,SAAY,UAAG,OAAU,MAAU,UAAM,MAAK,KAAU;AAC9D,kBAAa,MAAK,KAAO,OAAC,UAAkB,KAAK;AAC/C,2BAAuB;YAAtB,OAAC;YAAE,OAAmB;AAC5B,aAAK,MAAI,IAAG,KAAK;AACZ,eACR;AAAC,KAJY,EAKf;AAEM;;AACJ,QAAW,QAAe;AAC1B,WAAY,MAAK;AACX,kBAAY,KAAO,OAAO,OAAC,UAAI,KAAG,GAAO;AAC7C,YAAO,IAAQ;AACT,eAAO,OAAM,SAAO,OAAO,OAAO,UAC1C;AAAC,KAHY,EAIf;AAEM;AAAC,IAAgB,kCAAG,oBAAe;AACvC,QAAU,OAAG,IAAQ,KAAS;AACxB;;AAA8L;QAA7L,UAAI;QAAE,WAAK;QAAE,SAAG;QAAE,WAAK;QAAE,aAAO;QAAE,aAA2J;AAC9L,WAAQ,aAAS,cAAO,YAAS,cAAW,gBACpD;AAEM;AAAC,IAAmB,wCAAG,uBAAY,KAA0B,aAA8B,SAAe;AAC9G,QAAQ,KAAW,SAAc,cAAK;AAC9B,6BAAM;QAAE,oBAClB;AAAC;AAED,IAAkB,eAEZ;AAAC,IAAwB,kDAAG;AAChC,QAAe,YAAW,SAAK,KAAc,cAAc;AACxD,QAAW,WAAE;AACd,YAAY,WAAY,UAAc;AACnC,YAAQ,UAAO,SAAY,YAChC;AACF;AAEM;AAAC,IAAsB,8CAAG,0BAAY;AACtB;AACpB,QAAe,YAAW,SAAc,cAAO;AACtC,cAAU,YAAe;AACzB,cAAU,YAAG,yBACF,MACnB;AACD,QAAY,SAAY,UAAc,cAAU;AAC7C,QAAQ,QAAE;AACL,eAAQ,UAChB;AAAC;AACO,aAAK,KAAY,YAC3B;AAAC,E;;;;;;;;;;ACrDkC;;AAEnC,IAAU,OAAG;AACX,QAAiB,cAAe;AAChC,QAAU,OAAc,YAAK;AAC1B,QAAO,OAAO,WAAY,QAAO;AAC9B,WAAO,OAAY,YAAC,EAAK,MAAQ,QAAM,MAAO,QACtD;AAAC,GARsC;;AAUjC,O","file":"iframe.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 33);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 490933e562af835c20df","import { renderProps, SearchParams } from \"./types/index\";\n\nexport function parseQuery(): SearchParams{\n  const searchStr = location.search\n  const search = searchStr[0] === '?' ? searchStr.slice(1) : searchStr\n  return search.split('&').reduce((pre: SearchParams, cur) => {\n    const [k, v] = cur.split('=')\n    k&&v&&(pre[k] = v)\n    return pre\n  }, {})\n}\n\nexport function removeCodeInQuery() {\n  const query = parseQuery()\n  delete query.code\n  return Object.keys(query).reduce((pre, k, index) => {\n    const v = query\n    return pre + (index && '&' || '') + `${k}=${v}`\n  }, '')\n}\n\nexport const formatTime = (dateStr:string) => {\n  const date = new Date(dateStr)\n  const [year, month, day, hours, minutes, seconds] = [date.getFullYear(), date.getMonth() + 1, date.getDate(), date.getHours(), date.getMinutes(), date.getMinutes()].map(i => +i < 10 ? `0${i}` : i)\n  return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`\n}\n\nexport const createElement = (tag: string, renderProps: renderProps, content: Array<any> | string, html?: string) => {\n  const el = document.createElement(tag)\n  const { events, attrs } = renderProps\n}\n\nconst IFRAME_CLASS = 'gh-talk-iframe__main'\n\nexport const removeIframeDialog = () => {\n  const container = document.body.querySelector(IFRAME_CLASS)\n  if (container) {\n    const parent = container.parentElement\n    if (parent) parent.removeChild(container)\n  }\n}\n\nexport const openIframeDialog = (url: string) => {\n  removeIframeDialog()\n  const container = document.createElement('div')\n  container.className = IFRAME_CLASS\n  container.innerHTML = `\n    <iframe src=\"${url}\"></iframe>\n  `\n  const iframe = container.querySelector('iframe')\n  if (iframe) {\n    iframe.onerror = removeIframeDialog\n  }\n  document.body.appendChild(container)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.ts","// please require in your callback page\nimport { parseQuery } from './util'\n\nconst init = () => {\n  const searchQuery = parseQuery()\n  const code = searchQuery.code\n  if (window.parent === window) return\n  window.parent.postMessage({type: 'AUTH', data: code}, '*')\n}\n\ninit()\n\n\n\n// WEBPACK FOOTER //\n// ./src/iframe.ts"],"sourceRoot":""}